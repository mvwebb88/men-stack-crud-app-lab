<!DOCTYPE html>
<html lang="en">
  <%- include("../partials/head", { title: "All Cars" }) %>

  <body>
    <%- include("../partials/nav") %>

    <main class="container">
      <!-- Page heading -->
      <h1>All Cars</h1>

      <!-- Show message if no cars exist -->
      <% if (cars.length === 0) { %>
        <p>No cars yet. <a href="/cars/new">Add one</a>.</p>
      <% } else { %>
        <!-- Loop through cars -->
        <% cars.forEach(car => { %>
          <div class="card">
            <!-- Link to show page -->
            <h3>
              <a href="/cars/<%= car._id %>">
                <%= car.year %> <%= car.make %> <%= car.model %>
              </a>
            </h3>

            <!-- Car details -->
            <p>Color: <%= car.color || "N/A" %></p>
            <p>Electric: <%= car.isElectric ? "Yes" : "No" %></p>

            <!-- Edit link -->
            <a class="btn" href="/cars/<%= car._id %>/edit">Edit</a>

            <!-- Delete form -->
            <form action="/cars/<%= car._id %>?_method=DELETE" method="POST">
              <button class="btn btn-danger">Delete</button>
            </form>
          </div>
        <% }) %>
      <% } %>
    </main>
  </body>
</html>


